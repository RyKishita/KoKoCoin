# ルール

- 既にある全ての固定値をルール化

## デッキルール

- 指定タグを持つコイン使用不可
  - 個別にコイン使用不可にするのが面倒な場合
    - ルール編集に検索と一括追加を付ければいいだけ
  - イベントで使えそう
  - 公式試合でPRコインを使わせないためとか
  - 魔法禁止
  - 特殊射程直接攻撃禁止
- コイン制限のバリエーション
  - 指定コイン群の枚数合計指定
    - 利用率の高いコインは能力を下げるようにするため、これが必要になるのはコイン種類が膨大になった時ぐらい
  - 指定タグ枚数合計指定
    - タグはシリアライズしたくない

## デュエルルール

### デュエルルール-移動

- 移動時に、サイコロを振らず任意の移動量を選択できる。
  - 同じ数は以降選べない。
  - １～６を一度ずつ選ぶと再度すべて選べるようになる
  - ダイス目が変動している場合
  - 決着が遅くなる
- 移動のダイスはターンの開始時に振って、移動自体は直接攻撃コイン/サポートコインの後
  - 移動分リソースを先に得る
  - ダイス目が悪かったらダイス目サポートコインで上書きするなど
  - 敗北確定時に遅延行為をする
- 移動方向のマスが移動量より少ないとき
  - その方向には移動できない
    - 従来
  - 端で止まる
    - つまりSafeに止まりやすくなり、デュエルの決着が遅くなる
  - 端まで行って残りを折り返し
    - 歩数表示において、一エリアに二つ付く時がある
  - 端まで行って反対側から再開
    - 端の概念がなくなりループになる
    - Safeが二マス連続になり、Aマス以外は3分の1で行ける
      - Safe1マスを削って12のマスにする。どこからでも6分の1になる
    - 見た目も円にしたい
  - 前回の方向と同じ
    - 方向選択操作が無くなる
    - その方向には移動できない時だけ反転。端まで行って折り返しルールもオンならそれに従う
  - いずれも決着が遅くなる
- リソースを消費してダイス目を補正
  - １消費で出た目を－１など
  - ダイスを振る前に指定するか後か
  - ライフが少なくなった時に乱発する事になるのが微妙
  - 操作手数が増える
  - ダイス目固定サポートコインの立場が薄れる

### デュエルルール-コイン

- タグ名指定でダメージアップまたはダウン
  - 個別指定で可能ではある
- 防御コイン追加仕様
  - 軽い直接攻撃コインを連続で使われる場合に対してリソースで制限を掛けたが、他に強化するとしたら
  - 次のターンまで、すべての直接攻撃コインに対して効果発揮
  - 〇ターンの間、すべての直接攻撃コインに対して効果発揮
  - 次の防御コインを使用するまで、効果を発揮し続ける
  - ステップ1で専用スロットにセットする。
    - 案1
      - サイズ分のリソース消費
        - 同一ステップ内なら複数回行動ルールに従う
      - 裏向きでセット
      - セット上限はルールに従う
        - 手持ちと同様。別の設定
        - 上限を超えた場合は、いずれかを捨てる、または手持ちに戻る
      - 防御コインではないものもセット可能
      - 直接攻撃コイン使用者は、セットされたコインからルールに従い選択され、そのコインが開示されて結果を処理する
        - 防御コインなら減衰の計算
        - 防御コインではないなら防御無しとしてダメージ計算
          - 手持ちに戻る
            - リソース消費が無駄になる一方で、手持ちコイン枠外を持ったような状態にもなる
          - 捨てコインになる
      - セットされたコインの選択
        - 使用した順番で自動使用
        - 攻撃側が伏せられた状態のまま選択
        - 防御側が、従来のように選択
    - 従来との違い
      - リソースを消費する
      - 攻撃されたときにその時点の手持ちから使うか、事前準備か
      - 防御側が有利なルール
        - デュエルの遅延
      - 専用スロットの表現が必要
        - 手持ちコインの逆寄せ。リソース量の幅計算には使わない
    - このルールがあるなら、複数回行動は不要では
      - リソースについては、大きいダイス目を振った場合の軽減
      - そもそも複数回行動を作った理由
        - リソース管理が必要になり、上級者が有利になるようにする
        - ない場合は運とデッキ相性が強くなる
    - ステップ1で選択するとして、サポートコインを使う場合にサポートコインとして使うかダミーとして使うかの選択が必要になる
      - かといって専用ステップを作るのも
      - とりあえずはダミー無しから
- 防御コインを一度に複数枚使用できるようにする
  - 複数枚持つことがまれ
  - 操作ステップが増えるが、直接攻撃コインのダメージがゼロになったら自動終了なのでそこまでではない
  - 非推奨ルールである防御が上回ったらダメージがONだと即死しかねない
  - リソース消費はセットで
  - 防御優位にしたいが慎重に
  - この効果を持つコインがある。差別化を考える
- コイン内容変更
  - このルール化でのみ、指定されたコインの射程/コインサイズなどが変更される。
    - ダメージ量/防御量は実装済み
    - ルールでエリアを縮小した場合に、長射程コインが使用できなくなるのを防ぐためにも使う
  - コイン内容補正をする前に、プレリリースとしても使える。
    - 効果に変更があるときもあるが、それは流石にできない
    - 補正後に、以前の補正内容として残すのにも使える
  - 複合コインに対しての補正をどう設定するか
- 手持ちコイン使用に必要なリソースが、手持ちに入ってからのターン分だけ軽減する
  - 関連して３を超えるリソースが必要なコインがあっても良い。その場合は効果として実装
  - 直接攻撃を貯めておいて連射が出来るようになる。
    - まとめて発射する効果を持つコインの意味が薄れる
  - すぐゼロになる。
  - おもちゃの銃など、元々使用するのにターン数が必要なコインがある
- 設置時にリバーシのように相手の設置コインの所有権を奪える
  - 端のエリアの価値が上がる
  - 高コストでおいたコインの所有をあっさり奪われる
    - 所有権が変わらない、という効果
      - サポートコインの移動を拒否できるなど、無効関連をコイン情報としてまとめる。Bodyに持つ？
- 設置可能場所
  - 現在位置
  - 通ったマス
  - 全てのマス
  - 配置位置指定手順が増える。後で
- ターン数蓄積の有効化/無効化
  - 山/手持ち/設置/捨て
  - ターンが必要なコインの意味がなくなる。設定と同時にコイン使用不可も設定されるようにしたい

### デュエルルール-ターン

- デュエル1ラウンド目の先攻プレイヤー決定ルール
  - ランダムのバリエーションとしてダイス勝負
    - 不正を防げなさそう
  - 初期手持ちからより大きいコインを捨てたほうが先攻
    - 決まらなかったらすべて山コインに戻して手持ちを引き直し
    - 手持ち枚数が異なっていたら引き直し
  - 操作が面倒
  - 分かりづらい
- 1ステップごとにプレイヤー交代
  - P1ドロー、P2ドロー、P1サポート直接、P2サポート直接・・・という流れ
    - 荷重の効果処理に注意
  - ゲームの流れ全てを別に作る事になりそう
- ラウンド変更時
  - ターン数は必ずリセット
  - ライフは0になったほうだけリセット
  - 設置をリセット
    - 経過ターンをリセット/維持
    - 追加効果をリセット/維持
  - 手持ちをリセット
    - リセットする場合だけ引き直し
    - 経過ターンはリセット/維持
  - 捨てコインをストックに戻すかどうか
  - 現在位置と移動方向をリセット
  - エリアステータスのリセット
  - 標準ルールが一本先取なので採用する可能性が低い
- 各ステップの順番の任意定義
  - ドロー、サポートのみ、直接攻撃のみ、移動、設置のみ、サポートまたは直接攻撃、サポートまたは設置、直接攻撃または設置
  - むしろ全ルールで定義してこれを使うように変えてしまう
  - AfterShotとの関連
    - 効果がステップ2で使用できるコイン種類が増えるという形に変わったので問題なし
- ドロー変更
  - サイズ指定でドローできる
  - 好きなコインをドローできる
    - ダイスのみをランダム要素にする
  - 操作ステップが多くなる。探している間待つのが長い

### デュエルルール-その他

- 指定のエリアステータスがラウンド開始時点で設定されている
  - コイン効果としては割り当てられていない、専用の効果を考えてもいいかも
  - Safe エリア効果を部分的に適用
  - 効果
    - 設置コインが使える/使えない
    - 直接攻撃コインが使える/使えない
    - 防御コインが使える/使えない
    - サポートコインが使える/使えない
    - 直接攻撃コインで攻撃される/されない
    - ダメージ増加・減少
    - 非ダメージ増加・減少
    - 使用リソース増加・減少
  - アクセントとしてはいいが、ゲームの正当な変化とは言えない
- 指定のコインがラウンド開始時に配置されている
  - どちらの物でもないので、両者共ダメージを受ける
  - 捨てコインになる場合の行き先が無いので常に除外
  - デュエル終了が早くなる
    - カスタムルールであり報酬はないので問題ない
  - ダメージだけの専用コインも考える
  - 所有者がいないので、プレイヤーを指定する効果発動時に不具合が起きそう
    - 例えばスケープゴートは、始めに踏まれたコイン全てに対して発動とかしたい
- 最終ラウンドになったらサドンデスモード
  - Safeエリアがセーフにならないなど
  - サドンデス用のルールをあらかじめ設定しておき、条件を満たしたら入れ替える形で実装
  - 標準ルールが一本先取なので採用する可能性が低い
- 設置コインを踏んだら同じ大きさの防御コインが壊れる
